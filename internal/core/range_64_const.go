// Constants associades al tipus Range64.
// CreatedAt: 2024/12/10 dt GPT

package core

// Constants i pseudoconstants per Range64
const (
	// Màscares principals de bits
	SignMask       = uint64(0b10000000_00000000_00000000_00000000_00000000_00000000_00000000_00000000) // bit 63
	MetaMask       = uint64(0b01111111_11111111_00000000_00000000_00000000_00000000_00000000_00000000) // bits 62-49
	ValueMask      = uint64(0b00000000_11111111_11111111_11111111_11111111_11111111_11111111_11111111)
	SaturationMask = uint64(0b01111111_11111111_11111111_11111111_11111111_11111111_11111111_11111111)

	// Màscares de grup (bits 62-61)
	GroupMask  = uint64(0b01100000_00000000_00000000_00000000_00000000_00000000_00000000_00000000)
	GroupAMask = uint64(0b00000000_00000000_00000000_00000000_00000000_00000000_00000000_00000000)
	GroupBMask = uint64(0b00100000_00000000_00000000_00000000_00000000_00000000_00000000_00000000)
	// GroupCMask     = uint64(0b01000000_00000000_00000000_00000000_00000000_00000000_00000000_00000000) // Bits 62-61
	// SubGroupC3Mask = uint64(0b00001100_00000000_00000000_00000000_00000000_00000000_00000000_00000000) // Bits 60-57
	GroupCMask     uint64 = 0x4000000000000000
	SubGroupC3Mask uint64 = 0x00C0000000000000
	GroupDMask            = uint64(0b01100000_00000000_00000000_00000000_00000000_00000000_00000000_00000000)
	GroupEMask            = uint64(0b11100000_00000000_00000000_00000000_00000000_00000000_00000000_00000000)

	JiqSubGroupC3Mask uint64 = 0x400C000000000000 // Bits 60-57

	// Màscara de subgrups (4 bits després del grup)
	SubgroupMask = uint64(0b00111100_00000000_00000000_00000000_00000000_00000000_00000000_00000000)

	// Subgrups del Grup B
	SubgroupNullMask = uint64(0b00000000_00000000_00000000_00000000_00000000_00000000_00000000_00000000)
	SubgroupInfMask  = uint64(0b00000110_00000000_00000000_00000000_00000000_00000000_00000000_00000000)

	// Desplaçaments de bits
	MetaShift = 48 // bits a desplaçar per accedir a les metadades

	// Valors especials
	MaxValue = float64(1.0)
	MinValue = float64(-1.0)

	// Valors saturats (Group D)
	R64_SAT_POS_BITS = GroupDMask | SaturationMask
	R64_SAT_NEG_BITS = SignMask | GroupDMask | SaturationMask

	// Tokens (Group C)
	TokenIDMask = uint64(0b00111111_11111111_11111111_11111111_11111111_11111111_11111111_11111111)
)

// Valors especials precompilats
var (
	R64_NULL    = NewRangeF64(U64ToF64(GroupBMask | SubgroupNullMask))
	R64_INF_POS = NewRangeF64(U64ToF64(GroupBMask | SubgroupInfMask))
	R64_INF_NEG = NewRangeF64(U64ToF64(SignMask | GroupBMask | SubgroupInfMask))
	R64_SAT_POS = NewRangeF64Saturated(true)
	R64_SAT_NEG = NewRangeF64Saturated(false)
	R64_ZERO    = NewRangeF64Zero()
)
